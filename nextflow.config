nextflow.enable.dsl=2
conda.enabled = true

params {
  species        = 'monodelphis_domestica' // Organism (genus_species)
  build          = 'ASM229v1'              // Assembly name
  ref_dir        = 'ref'                   // Reference genome base directory
  fastq_mode     = 'local'                 // 'local' or 'download'
  fastq_dir      = 'data/fastq/test' // FASTQ file location
  fastq_manifest = 'manifests/U01_Lein-Opossum.tsv'
  out_dir        = 'results'
  threads        = 8
  read_length    = 100
  star_index     = 'ref/ASM229v1/STARindex'
  bc_inclist     = 'ref/10x_v3_bc/3M-february-2018.txt.gz'
}

process {
  conda = "$projectDir/envs/rnaseq.yml"
  withName:STAR_INDEX {
    cpus      = params.threads
    memory    = '24 GB'
    container = 'quay.io/biocontainers/star:2.7.11b--h43eeafb_0'
  }
  withName:STARSOLO_ALIGN {
    cpus   = params.threads
    memory = '48 GB'
  }
}

profiles {
  // Local cluster
  standard {
    process.executor = 'local'
  }
  // UGE cluster
  uge {
    includeConfig 'config/uge.config'
  }
}